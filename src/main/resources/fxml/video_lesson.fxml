<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.media.MediaView?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx/23"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.signlearn.presentation.controller.VideoLessonController"
            stylesheets="@../css/styles.css"
            styleClass="main-container">

    <!-- Navigation Bar -->
    <top>
        <HBox styleClass="nav-bar" alignment="CENTER_LEFT" spacing="30">
            <Label text="🤟 SignLearn" styleClass="nav-title"/>
            <Region HBox.hgrow="ALWAYS"/>
            <HBox spacing="20" alignment="CENTER_RIGHT">
                <Label text="Video Lesson" style="-fx-text-fill: #64748b; -fx-font-size: 16px; -fx-font-weight: 600;"/>
                <Button text="Dashboard" fx:id="videoDashboardBtn" styleClass="nav-button"/>
                <Button text="Progress" fx:id="videoProgressBtn" styleClass="nav-button"/>
                <Button text="Logout" fx:id="videoLogoutBtn" styleClass="nav-button"/>
            </HBox>
        </HBox>
    </top>

    <!-- Main Content -->
    <center>
        <VBox styleClass="content-area,spacing-large" VBox.vgrow="ALWAYS">

            <!-- Header -->
            <VBox spacing="16" alignment="CENTER">
                <Label text="Video Lesson" styleClass="page-title"/>
                <Label text="Watch carefully and take notes - there will be a knowledge check afterward!"
                       styleClass="subtitle" textAlignment="CENTER" maxWidth="840"/>
            </VBox>

            <!-- Lesson Progress -->
            <VBox styleClass="stats-section" spacing="16" alignment="CENTER" maxWidth="720">
                <Label text="Lesson Progress" style="-fx-font-size: 16px; -fx-font-weight: 600; -fx-text-fill: #374151;"/>
                <HBox spacing="20" alignment="CENTER" prefWidth="576">
                    <ProgressBar progress="0.6"
                                 prefWidth="403"
                                 prefHeight="12"
                                 styleClass="progress-bar"/>
                    <Label text="60%" style="-fx-font-size: 18px; -fx-font-weight: 700; -fx-text-fill: #667eea;"/>
                </HBox>
            </VBox>

            <!-- Video Container -->
            <VBox spacing="20" alignment="CENTER" VBox.vgrow="ALWAYS">

                <!-- Video Player Area -->
                <StackPane styleClass="media-container" prefWidth="960" maxWidth="900" prefHeight="432" maxHeight="500" VBox.vgrow="ALWAYS">
                    <MediaView fx:id="mediaView"
                               fitWidth="855"
                               fitHeight="475"
                               preserveRatio="true"/>

                    <!-- Video Placeholder (when no video loaded) -->
                    <VBox spacing="24" alignment="CENTER"
                          style="-fx-background-color: rgba(30, 41, 59, 0.95); -fx-background-radius: 16;">
                        <Label text="🎬" style="-fx-font-size: 80px;"/>
                        <Label text="Premium Video Lesson Loading..."
                               style="-fx-text-fill: white; -fx-font-size: 24px; -fx-font-weight: 600;"/>
                        <Label text="Get ready to learn professional sign language!"
                               style="-fx-text-fill: #94a3b8; -fx-font-size: 16px; -fx-font-weight: 500;"/>
                    </VBox>
                </StackPane>

                <!-- Video Controls Info -->
                <HBox styleClass="info-section" spacing="48" alignment="CENTER" maxWidth="960">
                    <HBox spacing="10" alignment="CENTER" prefWidth="288">
                        <Label text="⏯️" style="-fx-font-size: 20px;"/>
                        <Label text="Spacebar to play/pause" style="-fx-font-size: 14px; -fx-text-fill: #2563eb; -fx-font-weight: 500;"/>
                    </HBox>
                    <HBox spacing="10" alignment="CENTER" prefWidth="288">
                        <Label text="⏪⏩" style="-fx-font-size: 20px;"/>
                        <Label text="Arrow keys to skip" style="-fx-font-size: 14px; -fx-text-fill: #2563eb; -fx-font-weight: 500;"/>
                    </HBox>
                    <HBox spacing="10" alignment="CENTER" prefWidth="288">
                        <Label text="🔊" style="-fx-font-size: 20px;"/>
                        <Label text="Volume controls available" style="-fx-font-size: 14px; -fx-text-fill: #2563eb; -fx-font-weight: 500;"/>
                    </HBox>
                </HBox>

            </VBox>

            <!-- Learning Tips -->
            <VBox styleClass="tip-section" spacing="20" alignment="CENTER" maxWidth="1080">
                <Label text="💡 Professional Learning Tips"
                       style="-fx-font-size: 18px; -fx-font-weight: 600; -fx-text-fill: #92400e;"/>
                <GridPane hgap="54" vgap="12" alignment="CENTER" prefWidth="1080">
                    <Label text="• Watch the instructor's hand movements and positioning carefully"
                           style="-fx-font-size: 15px; -fx-text-fill: #92400e; -fx-font-weight: 500;"
                           GridPane.columnIndex="0" GridPane.rowIndex="0" prefWidth="508"/>
                    <Label text="• Pay attention to facial expressions and body language"
                           style="-fx-font-size: 15px; -fx-text-fill: #92400e; -fx-font-weight: 500;"
                           GridPane.columnIndex="1" GridPane.rowIndex="0" prefWidth="508"/>
                    <Label text="• Practice along with the video for muscle memory"
                           style="-fx-font-size: 15px; -fx-text-fill: #92400e; -fx-font-weight: 500;"
                           GridPane.columnIndex="0" GridPane.rowIndex="1" prefWidth="508"/>
                    <Label text="• Take notes on new signs and their meanings"
                           style="-fx-font-size: 15px; -fx-text-fill: #92400e; -fx-font-weight: 500;"
                           GridPane.columnIndex="1" GridPane.rowIndex="1" prefWidth="508"/>
                </GridPane>
            </VBox>

            <!-- Action Buttons -->
            <HBox spacing="30" alignment="CENTER" prefWidth="600">
                <Button fx:id="backBtn"
                        text="← Back to Dashboard"
                        styleClass="btn-secondary"
                        style="-fx-font-size: 16px;"
                        prefWidth="282"/>

                <Button fx:id="nextBtn"
                        text="Continue to Knowledge Check →"
                        styleClass="btn-primary"
                        style="-fx-font-weight: 600; -fx-font-size: 16px;"
                        prefWidth="282"/>
            </HBox>

        </VBox>
    </center>

    <!-- Footer -->
    <bottom>
        <HBox styleClass="footer" alignment="CENTER">
            <Label text="© 2025 SignLearn - Empowering communication through sign language education" styleClass="footer-text"/>
        </HBox>
    </bottom>

</BorderPane>